<div class="modal-content">

  <div class="modal-header">
    <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
      <span aria-hidden="true">Ã—</span>
    </button>
    <h4 class="modal-title w-100 text-center" id="myModalLabel">{{heading}} Site Evaluation</h4>
  </div>
  <div class="modal-body">
    <form [formGroup]="siteEvaluationForm">
      <div class="row">
        <div class="col-sm-4" *ngIf="formFields?.organisation_study_center">
          <div class="md-form">
            <mdb-select mdbValidate [validateSuccess]="false"
              [validateError]="formFields?.organisation_study_center?.required" [options]="organisationStudyCenter"
              formControlName="organisation_study_center"
              required="{{formFields?.organisation_study_center?.required}}"></mdb-select>
            <label for="organisation_study_center"><span *ngIf="formFields?.organisation_study_center?.required"
                class="red-text">*</span>
              Organisation Study Center</label>
          </div>
        </div>
        <div class="col-sm-4" *ngIf="formFields?.site_evaluation_type">
          <div class="md-form">
            <mdb-select mdbValidate [validateSuccess]="false"
              [validateError]="formFields?.site_evaluation_type?.required" [options]="siteEvaluationType"
              formControlName="site_evaluation_type" required="{{formFields?.site_evaluation_type?.required}}">
            </mdb-select>
            <label for="site_evaluation_type"><span *ngIf="formFields?.site_evaluation_type?.required"
                class="red-text">*</span>
              Site Evaluation Type</label>
          </div>
        </div>
        <div class="col-sm-4" *ngIf="formFields?.assigned_representative">
          <div class="md-form">
            <mdb-select mdbValidate [validateSuccess]="false"
              [validateError]="formFields?.assigned_representative?.required" [options]="assignedRepresentativeOptions"
              formControlName="assigned_representative" required="{{formFields?.assigned_representative?.required}}">
            </mdb-select>
            <label for="assigned_representative"><span *ngIf="formFields?.assigned_representative?.required"
                class="red-text">*</span>
              Assigned Representative</label>
          </div>
        </div>
      </div>
      <div class="row">
          <div class="col-sm-12">
            <h6 class="dark-grey-text "><strong class="card-header-text">Contact Person Details </strong>
      
            </h6>
        </div>
      </div>
      <div>
        <div class="row">
          <div class="col-sm-4" *ngIf="formFields?.contact_person_name">
            <div class="md-form">
              <mdb-select mdbValidate [validateSuccess]="false"
                [validateError]="formFields?.contact_person_name?.required" [options]="contactPersonOptions"
                formControlName="contact_person_name" required="{{formFields?.contact_person_name?.required}}">
              </mdb-select>
              <label for="contact_person_name"><span *ngIf="formFields?.contact_person_name?.required"
                  class="red-text">*</span>
                Name</label>
            </div>
          </div>
          <div class="col-sm-4" *ngIf="formFields?.contact_person_designation">
            <div class="md-form">
              <input type="text" mdbValidate [validateSuccess]="false" [validateError]="true"
                maxlength="{{formFields?.contact_person_designation?.maxLength}}" class="form-control"
                formControlName="contact_person_designation" id="contact_person_designation" mdbInput
                required="{{formFields?.contact_person_designation?.required}}">
              <label for="contact_person_designation"><span *ngIf="formFields?.contact_person_designation?.required"
                  class="red-text">*</span>
                Designation</label>
            </div>
          </div>
          <div class="col-sm-4">
            <div class="md-form" *ngIf="formFields?.expected_date_of_site_visit">
              <mdb-date-picker [inline]="true" name="mydate" [options]="myDatePickerOptions"
                formControlName="expected_date_of_site_visit" [label]="'Expected Date of Site Visit *'"
                required="{{formFields?.expected_date_of_site_visit?.required}}" required></mdb-date-picker>
            </div>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-sm-8">
          <div class="md-form" *ngIf="formFields?.notes">
            <textarea mdbValidate maxlength="{{formFields?.notes?.maxLength}}" [validateSuccess]="false"
              formControlName="notes" id="notes" type="text" class="md-textarea form-control" mdbInput
              required="{{formFields?.notes?.required}}"></textarea>
            <label for="notes"><span *ngIf="formFields?.notes?.required" class="red-text">*</span>
              <mdb-icon far icon="sticky-note"></mdb-icon> Notes</label>
          </div>
          <h6 class="mt-4 mb-0">Attachments</h6>


          <div class="row">
              <div class="col-12 col-md-auto">
                  <div class="file-field mt-0">
                    <file-upload></file-upload>
                  </div> 
              </div> 
              <div class="col">
                  <div class="chip mt-2" title="{{item}}" *ngFor="let item of uploadedFiles; index as i">
                      <mdb-icon fas class="mr-1" icon="file-excel"></mdb-icon>
                    <span class="crop-text wd-200">{{item}}</span>
                    <i class="close fas fa-times" (click)="removeItem(i)"></i>
                  </div>
                  
              </div>
            </div>


          <!-- <div class="file-field mt-0">
            <div mdbBtn floating="true" size="md" class="ml-0" color="light" mdbWavesEffect>
              <i class="fas fa-cloud-upload-alt" aria-hidden="true"></i>
              <input type="file" mdbFileSelect (uploadOutput)="onUploadOutput($event)" [uploadInput]="uploadInput">
            </div>
            <div class="file-path-wrapper mt-3">
              <input class="file-path" type="text" placeholder="Upload your file" [value]="showFiles()">
            </div>
          </div> -->
        </div>
      </div>


      <div class="mt-5">
        <h6 class="mb-3">Status Details</h6>
        <div class="row">
          <div class="col-sm-4">
            <p class="mb-1">Status</p>
            <p class="font-weight-bold">Not Started</p>
          </div>
          <div class="col-sm-4">
            <p class="mb-1">Site Visit Date</p>
            <p class="font-weight-bold">20-Mar-2020</p>
          </div>
          <div class="col-sm-12">
            <p class="mb-1">Attachments</p>
            <div>
              <div class="chip">
                Site initiation report of Greenhills, San Antonio
              </div>
            </div>
          </div>
        </div>

      </div>



    </form>
  </div>
  <div class="modal-footer">
    <button type="submit" size="sm" mdbBtn color="light" class="relative waves-light" (click)="modalRef.hide()"
      *ngIf="heading === 'Add' || heading === 'Edit'" [disabled]="siteEvaluationForm.invalid"
      mdbWavesEffect>Save</button>
    <button type="button" size="sm" mdbBtn color="light" class="waves-light" aria-label="Close"
      (click)="modalRef.hide()" mdbWavesEffect>Cancel</button>
    
  </div>
</div>